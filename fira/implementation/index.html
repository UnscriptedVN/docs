
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The official documentation center for Unscripted projects">
      
      
      
      
        <meta name="author" content="Marquis Kurt">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>Implementation - Documentation Center</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,400i,700%7CJetBrains+Mono&display=fallback">
        <style>body,input{font-family:"Inter",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"JetBrains Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    
      <link rel="stylesheet" href="../../stylesheets/uvn.css">
    
      <link rel="stylesheet" href="../../stylesheets/ayu.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="" data-md-color-accent="light-blue">
      
        <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#implementation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Documentation Center" class="md-header-nav__button md-logo" aria-label="Documentation Center">
      
  <img src="../../resources/logo-bubble.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Documentation Center
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Implementation
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
    <a href="../.." class="md-tabs__link">
      Welcome
    </a>
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../../core/" class="md-tabs__link">
        Core
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../../distribution/" class="md-tabs__link">
        Distribution
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
        
      
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Fira
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../../simplechanges/" class="md-tabs__link">
        Simplechanges
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documentation Center" class="md-nav__button md-logo" aria-label="Documentation Center">
      
  <img src="../../resources/logo-bubble.svg" alt="logo">

    </a>
    Documentation Center
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    <label class="md-nav__link" for="nav-2">
      Core
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Core" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../core/" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../core/arguments/" class="md-nav__link">
      Arguments File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../core/build/" class="md-nav__link">
      Build Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../core/statements/" class="md-nav__link">
      Custom Statements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../core/themes/" class="md-nav__link">
      Theming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../core/utilities/" class="md-nav__link">
      Common Utilities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      Distribution
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Distribution" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Distribution
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../distribution/" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../distribution/apple/" class="md-nav__link">
      Apple
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../distribution/fixed_zipfile/" class="md-nav__link">
      Fixed ZipFile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../distribution/itch/" class="md-nav__link">
      Itch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../distribution/plist/" class="md-nav__link">
      Property Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../distribution/util/" class="md-nav__link">
      Utilities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    <label class="md-nav__link" for="nav-4">
      Fira
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Fira" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Fira
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gameplay/" class="md-nav__link">
      Gameplay
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Implementation
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Implementation
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-the-minigame-works" class="md-nav__link">
    How the minigame works
  </a>
  
    <nav class="md-nav" aria-label="How the minigame works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtaining-code-for-basic-and-advanced-modes" class="md-nav__link">
    Obtaining code for basic and advanced modes
  </a>
  
    <nav class="md-nav" aria-label="Obtaining code for basic and advanced modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mode" class="md-nav__link">
    Basic Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-mode" class="md-nav__link">
    Advanced Mode
  </a>
  
    <nav class="md-nav" aria-label="Advanced Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#via-get_level_information" class="md-nav__link">
    Via get_level_information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtaining-code-from-third-party-tools" class="md-nav__link">
    Obtaining code from third-party tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preview-scene-execution-advanced-mode-only" class="md-nav__link">
    Preview scene execution (Advanced mode only)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nadiavm" class="md-nav__link">
    NadiaVM
  </a>
  
    <nav class="md-nav" aria-label="NadiaVM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../levels/" class="md-nav__link">
      Levels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5" >
    <label class="md-nav__link" for="nav-4-5">
      Api
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Api" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        <span class="md-nav__icon md-icon"></span>
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/grid/" class="md-nav__link">
      Grid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/info/" class="md-nav__link">
      Info
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/player/" class="md-nav__link">
      Player
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/vm/" class="md-nav__link">
      VM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/world/" class="md-nav__link">
      World
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6" >
    <label class="md-nav__link" for="nav-4-6">
      Core
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Core" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        <span class="md-nav__icon md-icon"></span>
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../core/" class="md-nav__link">
      Core Utilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core/config/" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core/data/" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core/grid/" class="md-nav__link">
      Grid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core/template/" class="md-nav__link">
      Templates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core/vm/" class="md-nav__link">
      Virtual Machine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5">
      Simplechanges
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Simplechanges" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Simplechanges
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../simplechanges/" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../simplechanges/package/" class="md-nav__link">
      Python Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../simplechanges/syntax/" class="md-nav__link">
      Syntax
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-the-minigame-works" class="md-nav__link">
    How the minigame works
  </a>
  
    <nav class="md-nav" aria-label="How the minigame works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtaining-code-for-basic-and-advanced-modes" class="md-nav__link">
    Obtaining code for basic and advanced modes
  </a>
  
    <nav class="md-nav" aria-label="Obtaining code for basic and advanced modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mode" class="md-nav__link">
    Basic Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-mode" class="md-nav__link">
    Advanced Mode
  </a>
  
    <nav class="md-nav" aria-label="Advanced Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#via-get_level_information" class="md-nav__link">
    Via get_level_information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtaining-code-from-third-party-tools" class="md-nav__link">
    Obtaining code from third-party tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preview-scene-execution-advanced-mode-only" class="md-nav__link">
    Preview scene execution (Advanced mode only)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nadiavm" class="md-nav__link">
    NadiaVM
  </a>
  
    <nav class="md-nav" aria-label="NadiaVM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">&para;</a></h1>
<h2 id="how-the-minigame-works">How the minigame works<a class="headerlink" href="#how-the-minigame-works" title="Permanent link">&para;</a></h2>
<p>In the minigame, players are tasked to create a set of commands that will be executed by a virtual machine in the preview scene in hopes of powering on all computers and reaching the exit. Although the method of getting the commands varies, the minigame will attempt to read from a virtual machine file and execute its commands as necessary.</p>
<h3 id="obtaining-code-for-basic-and-advanced-modes">Obtaining code for basic and advanced modes<a class="headerlink" href="#obtaining-code-for-basic-and-advanced-modes" title="Permanent link">&para;</a></h3>
<p>In the case of the two game modes in Unscripted, both modes make use of Fira's core module to generate virtual machine code. In either mode, memory management and pushing/popping from memory is automatically managed and written for the player.</p>
<h4 id="basic-mode">Basic Mode<a class="headerlink" href="#basic-mode" title="Permanent link">&para;</a></h4>
<p>In the basic mode, the player works inside of a NadiaVM interpreter, which will parse and execute commands sent to it. This is achieved by creating an interactive <code>CSNadiaVM</code>.</p>
<h4 id="advanced-mode">Advanced Mode<a class="headerlink" href="#advanced-mode" title="Permanent link">&para;</a></h4>
<p>In the advanced mode with the Fira API module, players get direct low-level access to the NadiaVM writer via the <code>MinigameLevel</code> class, which returns the writer in addition to level data. When running <code>close</code> on this class, the file is compiled and written for the previewer to read.</p>
<p><code>MinigameLevel</code> also supports context management with the <code>with</code> keyword in Python, automatically taking care of file operations for the player.</p>
<h5 id="via-get_level_information">Via <code>get_level_information</code><a class="headerlink" href="#via-get_level_information" title="Permanent link">&para;</a></h5>
<p>For the advanced mode via the Fira API module, the APIs link to a hidden VM writer (<a href="../vm/#csnadiavmwriter"><code>CSNadiaVMWriter</code></a>) that gets invoked when the player calls functions in the API. The <a href="../api/player/#exit"><code>exit</code></a> method of the <a href="../api/player/#csplayer"><code>CSPlayer</code></a> class is responsible for writing the VM file, hence why Python scripts must invoke this function. When the player is finished writing the script and clicks "Run", the Python compiler compiles and executes the script inside of Ren'Py's Python environment, generating the VM file in the process in the save directory of the game that will be read by the preview scene.</p>
<h3 id="obtaining-code-from-third-party-tools">Obtaining code from third-party tools<a class="headerlink" href="#obtaining-code-from-third-party-tools" title="Permanent link">&para;</a></h3>
<p>Third-party tools will most likely create an abstraction layer in a similar fashion to the Fira API module. These tools will eventually create the VM file that the preview scene will read. Implementation of the VM varies depending on the tool, so it is recommended that you read the documentation of the respective tool or library on how it writes VM files.</p>
<p>Players may also choose to write their own VM files directly, though this is not generally recommended.</p>
<h3 id="preview-scene-execution-advanced-mode-only">Preview scene execution (Advanced mode only)<a class="headerlink" href="#preview-scene-execution-advanced-mode-only" title="Permanent link">&para;</a></h3>
<p>Once the VM file is written, the data is sent to a virtual machine emulator (<a href="../core/vm/#csnadiavm"><code>CSNadiaVM</code></a>), which is later sent to the preview scene. Once the preview scene renders the world and components, the preview scene will call on the VM emulator to execute the commands in order. For commands that require animation (i.e., <code>move</code> and <code>collect</code>), execution pauses as the preview scene presents the corresponding animation.</p>
<h2 id="nadiavm">NadiaVM<a class="headerlink" href="#nadiavm" title="Permanent link">&para;</a></h2>
<p>Fira contains the virtual machine used in processing and managing the preview scene, NadiaVM. NadiaVM is a simple, stack-based virtual machine with a couple of commands. The VM is designed to focus specifically on the minigame's internal game logic and is not necessarily suitable for general use. NadiaVM files are registered with the file extension <code>.nvm</code> and are typically plain text files with the corresponding instructions.</p>
<h3 id="commands">Commands<a class="headerlink" href="#commands" title="Permanent link">&para;</a></h3>
<p>NadiaVM comes with several commands used to perform tasks in the minigame:</p>
<ul>
<li><code>alloc (str) (int)</code>: Create a new array with a name and a specific size.</li>
<li><code>collect</code>: Collect a coin in the world. Acts like a pause in VM.</li>
<li><code>push (str) (int)</code>: Push the top of the stack to the given array at the index.</li>
<li><code>pop (str) (int)</code>: Pop the item located at the array's index and move it to the
  top of the stack.</li>
<li><code>set (constant|casted_value) (any)</code>: Set the top of the stack to a constant value.</li>
<li><code>move player (str)</code>: Move the player in a given direction.</li>
<li><code>exit player</code>: Try to end the execution script and finish the level.</li>
<li><code>add</code>: Add the two topmost values on the stack.</li>
<li><code>sub</code>: Subtract the two topmost values on the stack.</li>
<li><code>mult</code>: Multiply the two topmost values on the stack.</li>
<li><code>div</code>: Divide the two topmost values on the stack.</li>
<li><code>neg</code>: Negate the topmost value on the stack. Effectively the same as pushing <code>-1</code> on the stack and calling <code>mult</code>.</li>
<li><code>bind (str) (command)</code>: Bind a given command to a name.</li>
<li><code>cast (str) (any)</code>: Cast the value to a given name, similar to variable assignment.</li>
</ul>
<h3 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h3>
<p>NadiaVM is a simple stack-based virtual machine designed to process commands quickly, meaning that there are limitations to how it works:</p>
<ul>
<li>NadiaVM files can't reference each other.</li>
<li>NadiaVM doesn't support control flow or functions.</li>
<li>NadiaVM doesn't work with pointers or deal with memory addresses; rather, it works with creating its own lists and modifying them accordingly.</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../gameplay/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Gameplay
              </div>
            </div>
          </a>
        
        
          <a href="../levels/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Levels
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Marquis Kurt.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
      
        <script src="../../scripts/highlight.js"></script>
      
    
  </body>
</html>